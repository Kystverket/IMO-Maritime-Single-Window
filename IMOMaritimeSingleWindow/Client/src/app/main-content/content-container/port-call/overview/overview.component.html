<div id="overlay" *ngIf="!overviewFound">
    <div id="loading-box" class="text-center">
        <img src='assets/images/animations/portcall.gif' />
        <h1>LOADING PORT CALLS</h1>
    </div>
</div>

<div class="row">
    <div class="col-sm-12 col-md-6 col-lg-4">
        <app-ssn-card header="Options" icon="cogs.png" collapsible="true" collapsed="true">
            <div>
                <button class="btn btn-sm btn-ssn" *ngIf="!showCancelledPortCalls" (click)="toggleCancelledPortCalls(true)">Show cancelled port calls</button>
                <button class="btn btn-sm btn-ssn" *ngIf="showCancelledPortCalls" (click)="toggleCancelledPortCalls(false)">Hide cancelled port calls</button>
            </div>
        </app-ssn-card>
    </div>
</div>

<div class="mb-3">
    <table class="table table-bordered text-center mx-auto mb-0">
        <thead class="bg-ssn text-white">
            <tr>
                <th>Active Port Calls</th>
            </tr>
        </thead>
    </table>
    <div class="table-responsive">
        <ng2-smart-table [settings]="tableSettings" [source]="overviewSource"></ng2-smart-table>
    </div>
</div>

<div class="mb-3" *ngIf="permissions.edit">
    <table class="table table-bordered text-center mx-auto mb-0">
        <thead class="bg-ssn text-white">
            <tr>
                <th>Port Call Drafts</th>
            </tr>
        </thead>
    </table>
    <div class="table-responsive">
        <ng2-smart-table [settings]="tableSettings" [source]="draftOverviewSource"></ng2-smart-table>
    </div>
</div>

<div class="mb-3" *ngIf="userIsGovernmentAgency">
    <table class="table table-bordered text-center mx-auto mb-0">
        <thead class="bg-ssn text-white">
            <tr>
                <th>Cleared Port Calls</th>
            </tr>
        </thead>
    </table>
    <div class="table-responsive">
        <ng2-smart-table [settings]="tableSettings" [source]="clearedByUserAgencyOverviewSource"></ng2-smart-table>
    </div>
</div>